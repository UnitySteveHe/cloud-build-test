using System.Collections;
using NUnit.Framework;
using Unity.AutomatedQA;
using UnityEngine;
using UnityEngine.TestTools;

namespace GeneratedAutomatedRunTests
{
    /// <summary>
    /// These tests were generated by Unity Automated QA for the Automated Run at #RUN_FILEPATH#
    /// </summary>
    public class #CLASS_NAME#
    {
        [UnityTest]
        public IEnumerator AllAutomatorsComplete()
        {
            // Apparently terrible way to load ScriptableObjects, and requires folder called Resources
            // TODO find better method
            AutomatedRun myRun = Resources.Load<AutomatedRun>("#RUN_NAME#");
            
            // Run automation until complete
            CentralAutomationController controller = CentralAutomationController.Instance;
            controller.Run(myRun.config);
            while (!controller.IsAutomationComplete())
            {
                yield return null;
            }
            
            Assert.Pass();
        }
    }
}
